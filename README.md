# 수돗물 수요예측 AI 알고리즘
## 1. 대회 개요 
대상지(아포 : 경상북도 김천시 아포읍)의 상수원 사용량에 따라 달라지는 배수지의 유량 적산차를 예측합니다. 정확한 수요 예측은 수자원 사용 및 수자원 공급에 필요한 에너지 소비를 최적화하는 데에 기여할 수 있습니다.
대상지의 경우 [농촌 지역]의 특성을 갖고 있습니다.
- Sample_submission : 모델은 모든 행마다(2021년 1월 1일 0시 - 2021년 12월 18일 0시) 336시간 분량의 미래값을 예측합니다.
모든 행 기준 예측에 사용할 데이터는 모두 기준시점(datetime열)보다 과거 시점에 생성된 데이터여야 합니다. 
- 주최 : 한국수자원공사(K-water)
- 평가지표 : MAE(Mean absolute error)
## 2. 데이터
- Shape: 35,064 rows × 2 columns
- 컬럼: 연월일시간, 구미 아포배수지 유출유량 적산차
- 학습구간: 2017년 1월 1일 1시 ~ 2020년 12월 31일 23시
- 테스트구간 : 2021년 1월 1일 0시 ~ 2021년 12월 17일 23시 
- 예측구간: 2021년 1월 1일 0시 ~ 2021년 12월 18일 0시 
## 3. 외부 데이터 검토
농촌 지역의 특성을 고려해 수돗물 수요에 영향을 미친다고 생각한 기온 데이터, 강수량 데이터를 적용해보려고 했습니다. 
김천 기온, 강수량 데이터는 없었지만 김천 내 농업지역이랑 가장 가까운 구미를 기준으로 수집하였습니다. 시간별 데이터는 없었기 때문에 일별로 수집을 했습니다. 
하지만 성능 향상이 되지 않았기 때문에 최종적으로 해당 데이터는 사용하지 않았습니다.  
- 일별 기온 데이터 : 농업데이터 365 : 최고기온, 최저기온, 평균기온   
- 일별 강수량 데이터 : 농업데이터 365
## 4. 전처리 
- train, test 모두 연월일시간을 'date', 'year', 'month', 'day', 'hour', 'weekday'로 나눴습니다. 
- EDA를 통해 이상치와 결측값이 있다는 것을 알게 되었고, 1,000,000 이상과 -1,000,000 은 0 처리를 해주었습니다. 
- 300 이상은 평균값처리를 해주었습니다. 
- 컬럼을 category화 하여 사용하기 위해 One Hot Encoding을 해주었습니다. 
## 5. 모델 선정 
- RandomForest, LGBM Regressor, XGB 모델을 적용해보았고 결과값이 가장 좋은 LGBM Regressor를 모델로 선정하였습니다.
## 6. 모델 훈련
- GridSearch 를 통해 하이퍼 매개변수 조정을 했습니다. 
## 7. 결과 
- MAE 23.074797점
- Private Score 13위
